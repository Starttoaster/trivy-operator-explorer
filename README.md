# Trivy Operator Explorer

This is a web explorer that displays the reports generated by the [Trivy Operator for Kubernetes.](https://github.com/aquasecurity/trivy-operator)

## Preview

![Dashboard](content/preview.gif)

## Install

### Pre-requisites

You will of course need [Trivy Operator](https://github.com/aquasecurity/trivy-operator) already installed. The latest version of this explorer should work with the latest version of Trivy Operator. This explorer gets its data directly from the reporting custom resources that Trivy Operator installs in the cluster, and updates as it runs its scans.

### Install explorer

Install with the helm chart:

```bash
helm upgrade --install --create-namespace \
--repo "https://starttoaster.github.io/trivy-operator-explorer" 
-n trivy-explorer \
trivy-operator-explorer \
trivy-operator-explorer
```

## Filters

Some dashboards have filters that can be set from clicking elements on the page, but the following can only be set manually from the URL query parameters for now. UI elements might be added for these over time. 

### Image filter

| Parameters   | Description                                                           | Example                   |
|--------------|-----------------------------------------------------------------------|---------------------------|
| hasfix       | Boolean to only view vulnerabilities that have a fix version, or not. | hasfix=true, hasfix=false |
| resources    | Comma-separated list of resources to view vulnerabilities for.        | resources=curl,zlib1g     |
| notresources | Comma-separated list of resources to ignore vulnerabilities for.      | notresources=curl,zlib1g  |
| severity     | Filter by level of vulnerability severity.                            | severity=Critical         |

Example URL: `http://your.explorer.install/image?hasfix=true&severity=Critical`

## TODO

- Make a home page that displays useful graphs for each of the report types.
- Graphical elements for setting the filters on the /image page
